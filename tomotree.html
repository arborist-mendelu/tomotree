

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tomotree &mdash; tomotree  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Resistograph" href="resistograph.html" />
    <link rel="prev" title="Tomotree package description" href="doc.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index_doc.html" class="icon icon-home">
            tomotree
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="doc.html">Tomotree package description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc.html#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="doc.html#docker">Docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="doc.html#python">Python</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#quick-start">Quick start</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#short-demo-of-all-methods">Short demo of all methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#rays-method">Rays method</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#velocity-is-a-parabolic-function-of-angle-from-radial-direction">Velocity is a parabolic function of angle from radial direction</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#eliptic-based-segmentation-method-ebsi">Eliptic based segmentation method (EBSI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#simultaneous-interactive-reconstruction-technique-sirt">Simultaneous interactive reconstruction technique (SIRT)</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#equidistant-ray-segmentation-method-ersm">Equidistant ray segmentation method (ERSM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#tests-of-internal-procedures">Tests of internal procedures</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#tomowood">TomoWood</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#various-tests">Various tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc.html#online-application">Online application</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tomotree</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tomotree-module">Tomotree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tomotree.distances_to_coordinates"><code class="docutils literal notranslate"><span class="pre">distances_to_coordinates()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tomotree.roll_table"><code class="docutils literal notranslate"><span class="pre">roll_table()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tomotree.classes.node.Node"><code class="docutils literal notranslate"><span class="pre">Node</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.node.Node.coordinates"><code class="docutils literal notranslate"><span class="pre">Node.coordinates</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.node.Node.rays_from"><code class="docutils literal notranslate"><span class="pre">Node.rays_from</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.node.Node.rays_to"><code class="docutils literal notranslate"><span class="pre">Node.rays_to</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.node.Node.number"><code class="docutils literal notranslate"><span class="pre">Node.number</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.node.Node.get_ray_to"><code class="docutils literal notranslate"><span class="pre">Node.get_ray_to</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.node.Node.active"><code class="docutils literal notranslate"><span class="pre">Node.active</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tomotree.classes.ray.Ray"><code class="docutils literal notranslate"><span class="pre">Ray</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.start"><code class="docutils literal notranslate"><span class="pre">Ray.start</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.end"><code class="docutils literal notranslate"><span class="pre">Ray.end</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.speed"><code class="docutils literal notranslate"><span class="pre">Ray.speed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.time"><code class="docutils literal notranslate"><span class="pre">Ray.time</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.segments"><code class="docutils literal notranslate"><span class="pre">Ray.segments</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.angle_from_radial"><code class="docutils literal notranslate"><span class="pre">Ray.angle_from_radial</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.signed_angle_from_radial"><code class="docutils literal notranslate"><span class="pre">Ray.signed_angle_from_radial</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Ray.length"><code class="docutils literal notranslate"><span class="pre">Ray.length</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tomotree.classes.ray.Segment"><code class="docutils literal notranslate"><span class="pre">Segment</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.ray"><code class="docutils literal notranslate"><span class="pre">Segment.ray</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.speed"><code class="docutils literal notranslate"><span class="pre">Segment.speed</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.start"><code class="docutils literal notranslate"><span class="pre">Segment.start</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.end"><code class="docutils literal notranslate"><span class="pre">Segment.end</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.start_coordinates"><code class="docutils literal notranslate"><span class="pre">Segment.start_coordinates</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.end_coordinates"><code class="docutils literal notranslate"><span class="pre">Segment.end_coordinates</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.length"><code class="docutils literal notranslate"><span class="pre">Segment.length</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">Segment.length</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.ray.Segment.split"><code class="docutils literal notranslate"><span class="pre">Segment.split()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tomotree.classes.cell.Cell"><code class="docutils literal notranslate"><span class="pre">Cell</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.rays"><code class="docutils literal notranslate"><span class="pre">Cell.rays</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.velocity"><code class="docutils literal notranslate"><span class="pre">Cell.velocity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.velocities_list"><code class="docutils literal notranslate"><span class="pre">Cell.velocities_list</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.x"><code class="docutils literal notranslate"><span class="pre">Cell.x</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.y"><code class="docutils literal notranslate"><span class="pre">Cell.y</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.dx"><code class="docutils literal notranslate"><span class="pre">Cell.dx</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.dy"><code class="docutils literal notranslate"><span class="pre">Cell.dy</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.boundary_points"><code class="docutils literal notranslate"><span class="pre">Cell.boundary_points</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.segments"><code class="docutils literal notranslate"><span class="pre">Cell.segments</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.id"><code class="docutils literal notranslate"><span class="pre">Cell.id</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.cell.Cell.status"><code class="docutils literal notranslate"><span class="pre">Cell.status</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tomotree.classes.grid.Grid"><code class="docutils literal notranslate"><span class="pre">Grid</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.x"><code class="docutils literal notranslate"><span class="pre">Grid.x</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.y"><code class="docutils literal notranslate"><span class="pre">Grid.y</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.cells"><code class="docutils literal notranslate"><span class="pre">Grid.cells</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.all_cells"><code class="docutils literal notranslate"><span class="pre">Grid.all_cells</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.min_velocity"><code class="docutils literal notranslate"><span class="pre">Grid.min_velocity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.max_velocity"><code class="docutils literal notranslate"><span class="pre">Grid.max_velocity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.get_cell"><code class="docutils literal notranslate"><span class="pre">Grid.get_cell()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1"><code class="docutils literal notranslate"><span class="pre">Grid.max_velocity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2"><code class="docutils literal notranslate"><span class="pre">Grid.min_velocity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.plot"><code class="docutils literal notranslate"><span class="pre">Grid.plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.set_cell_status_from_threshold"><code class="docutils literal notranslate"><span class="pre">Grid.set_cell_status_from_threshold()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#tomotree.classes.grid.Grid.set_cell_velocity_from_ray_means"><code class="docutils literal notranslate"><span class="pre">Grid.set_cell_velocity_from_ray_means()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="resistograph.html">Resistograph</a><ul>
<li class="toctree-l2"><a class="reference internal" href="resistograph.html#tomotree.resistograph.DrillingPath"><code class="docutils literal notranslate"><span class="pre">DrillingPath</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="resistograph.html#tomotree.resistograph.DrillingPath.angle"><code class="docutils literal notranslate"><span class="pre">DrillingPath.angle</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="resistograph.html#tomotree.resistograph.Resistograph"><code class="docutils literal notranslate"><span class="pre">Resistograph</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="resistograph.html#tomotree.resistograph.Resistograph.data"><code class="docutils literal notranslate"><span class="pre">Resistograph.data</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="resistograph.html#tomotree.resistograph.Resistograph.get_data"><code class="docutils literal notranslate"><span class="pre">Resistograph.get_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="resistograph.html#tomotree.resistograph.Resistograph.preprocess_data"><code class="docutils literal notranslate"><span class="pre">Resistograph.preprocess_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="resistograph.html#tomotree.resistograph.Resistograph.read_resistograph_data"><code class="docutils literal notranslate"><span class="pre">Resistograph.read_resistograph_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="resistograph.html#tomotree.resistograph.Resistograph.remove_global_linear_trend"><code class="docutils literal notranslate"><span class="pre">Resistograph.remove_global_linear_trend()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="resistograph.html#tomotree.resistograph.add_resistograph_graphs"><code class="docutils literal notranslate"><span class="pre">add_resistograph_graphs()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="resistograph.html#tomotree.resistograph.add_resistograph_to_image"><code class="docutils literal notranslate"><span class="pre">add_resistograph_to_image()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="analyze_f3d.html">Analyze f3d files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="analyze_f3d.html#tomotree.analyze_f3d.df_nodes"><code class="docutils literal notranslate"><span class="pre">df_nodes()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="analyze_f3d.html#tomotree.analyze_f3d.distance_matrix"><code class="docutils literal notranslate"><span class="pre">distance_matrix()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="analyze_f3d.html#tomotree.analyze_f3d.extract_distance_data"><code class="docutils literal notranslate"><span class="pre">extract_distance_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="analyze_f3d.html#tomotree.analyze_f3d.extract_time_data"><code class="docutils literal notranslate"><span class="pre">extract_time_data()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="analyze_f3d.html#tomotree.analyze_f3d.get_xml_root"><code class="docutils literal notranslate"><span class="pre">get_xml_root()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="analyze_f3d.html#tomotree.analyze_f3d.time_matrix"><code class="docutils literal notranslate"><span class="pre">time_matrix()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="data_upload.html">Data upload</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index_doc.html">tomotree</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index_doc.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Tomotree</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tomotree.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-tomotree">
<span id="tomotree"></span><h1>Tomotree<a class="headerlink" href="#module-tomotree" title="Link to this heading"></a></h1>
<section id="tomotree-module">
<h2>Tomotree module<a class="headerlink" href="#tomotree-module" title="Link to this heading"></a></h2>
<p>This module is intended as a tool for processing data from
acoustic tomography of trees.</p>
<p>It is considered as a version of Ray segmented method proposed by Du et al.
Image Reconstruction of Internal Defects in Wood Based on Segmented
Propagation Rays of Stress Waves, Appl. Sci. 2018, 8, 1778; doi:10.3390/app8101778</p>
<p>The modification is that we do not use bisection of segments, but choose the
number of segments such that the lengths of the segments are closer than
using the method proposed by Du.</p>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="tomotree.distances_to_coordinates">
<span class="sig-prename descclassname"><span class="pre">tomotree.</span></span><span class="sig-name descname"><span class="pre">distances_to_coordinates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clockwise</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.distances_to_coordinates" title="Link to this definition"></a></dt>
<dd><p>Transform distances between nodes to coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – Dataframe with distances between nodes. The index is in the form n1-n2,
where n1 and n2 are node numbers.</p></li>
<li><p><strong>num</strong> – Number of nodes. If None, it is calculated from the dataframe.</p></li>
<li><p><strong>center</strong> – If True, the coordinates are shifted so that the center of the arrangement
is at (0, 0).</p></li>
<li><p><strong>clockwise</strong> – If True, the nodes are arranged in clockwise order. Default is False,
i.e. counterclockwise order.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A numpy array of shape (num, 2) containing the x and y coordinates of
each node. Node 1 is at (0, 0). If center is True, then the coordinates
are shifted so that the center of the arrangement is at (0, 0).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">12.0</span>
<span class="mi">3</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">25.0</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="mi">12</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mf">12.5</span>
<span class="mi">2</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span><span class="mf">52.0</span>
<span class="mi">3</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span><span class="mf">45.4</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="mi">12</span><span class="o">-</span><span class="mi">7</span><span class="p">,</span><span class="mf">51.2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tomotree.roll_table">
<span class="sig-prename descclassname"><span class="pre">tomotree.</span></span><span class="sig-name descname"><span class="pre">roll_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.roll_table" title="Link to this definition"></a></dt>
<dd><p>Converts table with n columns as soures and (n-1) rows as receivers
to n times n table.
Input is table in which the first row is the TOF to the first neighbor
etc.
Output is table where each row contains TOF of the same node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<em>ndarray</em>)</p>
</dd>
</dl>
</dd></dl>

<dl class="py class" id="module-tomotree.classes.node">
<dt class="sig sig-object py" id="tomotree.classes.node.Node">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tomotree.classes.node.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coordinates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.node.Node" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for tomogram nodes. The node stores information on coordinates,
rays from the node, rays to the node and the node number.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coordinates</strong> (<em>ndarray</em>)</p></li>
<li><p><strong>number</strong> (<em>int</em>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.node.Node.coordinates">
<span class="sig-name descname"><span class="pre">coordinates</span></span><a class="headerlink" href="#tomotree.classes.node.Node.coordinates" title="Link to this definition"></a></dt>
<dd><p>A tuple representing the coordinates of the node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.node.Node.rays_from">
<span class="sig-name descname"><span class="pre">rays_from</span></span><a class="headerlink" href="#tomotree.classes.node.Node.rays_from" title="Link to this definition"></a></dt>
<dd><p>A set of rays originating from this node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.node.Node.rays_to">
<span class="sig-name descname"><span class="pre">rays_to</span></span><a class="headerlink" href="#tomotree.classes.node.Node.rays_to" title="Link to this definition"></a></dt>
<dd><p>A set of rays targeting this node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.node.Node.number">
<span class="sig-name descname"><span class="pre">number</span></span><a class="headerlink" href="#tomotree.classes.node.Node.number" title="Link to this definition"></a></dt>
<dd><p>Node number.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.node.Node.get_ray_to">
<span class="sig-name descname"><span class="pre">get_ray_to</span></span><a class="headerlink" href="#tomotree.classes.node.Node.get_ray_to" title="Link to this definition"></a></dt>
<dd><p>A dictionary mapping target node numbers to rays.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.node.Node.active">
<span class="sig-name descname"><span class="pre">active</span></span><a class="headerlink" href="#tomotree.classes.node.Node.active" title="Link to this definition"></a></dt>
<dd><p>Indicates whether the node is active.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-tomotree.classes.ray">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tomotree.classes.ray.</span></span><span class="sig-name descname"><span class="pre">Ray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pith</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0,</span> <span class="pre">0])</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.ray.Ray" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Ray in the acoustic tomography.</p>
<p>When initialized, the ray is added to the <code class="docutils literal notranslate"><span class="pre">rays_from</span></code> and <code class="docutils literal notranslate"><span class="pre">rays_to</span></code>
attributes of the node at the start and at the end.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<a class="reference internal" href="#tomotree.classes.node.Node" title="tomotree.classes.node.Node"><em>Node</em></a>)</p></li>
<li><p><strong>end</strong> (<a class="reference internal" href="#tomotree.classes.node.Node" title="tomotree.classes.node.Node"><em>Node</em></a>)</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.start">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.start" title="Link to this definition"></a></dt>
<dd><p>The starting node of the ray.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#tomotree.classes.node.Node" title="tomotree.classes.node.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.end">
<span class="sig-name descname"><span class="pre">end</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.end" title="Link to this definition"></a></dt>
<dd><p>The ending node of the ray.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#tomotree.classes.node.Node" title="tomotree.classes.node.Node">Node</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.speed">
<span class="sig-name descname"><span class="pre">speed</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.speed" title="Link to this definition"></a></dt>
<dd><p>The speed of the ray. If not provided, it will be calculated
based on the distance between start and end nodes and the given
time.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.time">
<span class="sig-name descname"><span class="pre">time</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.time" title="Link to this definition"></a></dt>
<dd><p>The time taken for the ray to travel from start to end. Only
used if speed is not provided.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float, optional</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.segments">
<span class="sig-name descname"><span class="pre">segments</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.segments" title="Link to this definition"></a></dt>
<dd><p>The list of segments for the segmented method.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.angle_from_radial">
<span class="sig-name descname"><span class="pre">angle_from_radial</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.angle_from_radial" title="Link to this definition"></a></dt>
<dd><p>The angle between the ray and the radial direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.signed_angle_from_radial">
<span class="sig-name descname"><span class="pre">signed_angle_from_radial</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.signed_angle_from_radial" title="Link to this definition"></a></dt>
<dd><p>The signed angle between the ray and the radial direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Ray.length">
<span class="sig-name descname"><span class="pre">length</span></span><a class="headerlink" href="#tomotree.classes.ray.Ray.length" title="Link to this definition"></a></dt>
<dd><p>The length of the ray.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tomotree.classes.ray.</span></span><span class="sig-name descname"><span class="pre">Segment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.ray.Segment" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Ray segment. Properties are parent ray, the speed on the segment and the start
and the end position of the segment on the ray. The start of the ray
corresponds to the position 0, the end corresponds to position 1.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.ray">
<span class="sig-name descname"><span class="pre">ray</span></span><a class="headerlink" href="#tomotree.classes.ray.Segment.ray" title="Link to this definition"></a></dt>
<dd><p>The parent ray of the segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#tomotree.classes.ray.Ray" title="tomotree.classes.ray.Ray">Ray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.speed">
<span class="sig-name descname"><span class="pre">speed</span></span><a class="headerlink" href="#tomotree.classes.ray.Segment.speed" title="Link to this definition"></a></dt>
<dd><p>The speed on the segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.start">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#tomotree.classes.ray.Segment.start" title="Link to this definition"></a></dt>
<dd><p>The start position of the segment on the ray. Float from 0 to 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.end">
<span class="sig-name descname"><span class="pre">end</span></span><a class="headerlink" href="#tomotree.classes.ray.Segment.end" title="Link to this definition"></a></dt>
<dd><p>The end position of the segment on the ray. Float from 0 to 1.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.start_coordinates">
<span class="sig-name descname"><span class="pre">start_coordinates</span></span><a class="headerlink" href="#tomotree.classes.ray.Segment.start_coordinates" title="Link to this definition"></a></dt>
<dd><p>The start coordinates of the segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.end_coordinates">
<span class="sig-name descname"><span class="pre">end_coordinates</span></span><a class="headerlink" href="#tomotree.classes.ray.Segment.end_coordinates" title="Link to this definition"></a></dt>
<dd><p>The end coordinates of the segment.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array-like</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.length">
<span class="sig-name descname"><span class="pre">length</span></span><a class="headerlink" href="#tomotree.classes.ray.Segment.length" title="Link to this definition"></a></dt>
<dd><p>length of the segment</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">length</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#id0" title="Link to this definition"></a></dt>
<dd><p>Return length of the segment</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tomotree.classes.ray.Segment.split">
<span class="sig-name descname"><span class="pre">split</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.ray.Segment.split" title="Link to this definition"></a></dt>
<dd><p>Split the segment to two or more segments. Removes the segment
from the ray.segments list and adds new segments to this list.</p>
<p>Return the list from the new segments. This allows to adjust the speed on
these new segments.</p>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-tomotree.classes.cell">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tomotree.classes.cell.</span></span><span class="sig-name descname"><span class="pre">Cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rays</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.cell.Cell" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for cells in grid. Contains the list of rays and their velocities (or velocities on the
corresponding ray segment) and the velocity</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.rays">
<span class="sig-name descname"><span class="pre">rays</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.rays" title="Link to this definition"></a></dt>
<dd><p>A list of rays passing through the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.velocity">
<span class="sig-name descname"><span class="pre">velocity</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.velocity" title="Link to this definition"></a></dt>
<dd><p>The velocity of the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.velocities_list">
<span class="sig-name descname"><span class="pre">velocities_list</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.velocities_list" title="Link to this definition"></a></dt>
<dd><p>List of velocities of rays or segments which go through
the cell. This list is used inside loops. In the first step in the
loop over rays or segments the list is filled by the values from
the rays which have influence to the cell. In the second step the
average of this list is used to determine the velocity
of the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.x">
<span class="sig-name descname"><span class="pre">x</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.x" title="Link to this definition"></a></dt>
<dd><p>The x-coordinate of the bottom left corner of the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.y">
<span class="sig-name descname"><span class="pre">y</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.y" title="Link to this definition"></a></dt>
<dd><p>The y-coordinate of the bottom left corner of the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.dx">
<span class="sig-name descname"><span class="pre">dx</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.dx" title="Link to this definition"></a></dt>
<dd><p>The width of the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.dy">
<span class="sig-name descname"><span class="pre">dy</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.dy" title="Link to this definition"></a></dt>
<dd><p>The height of the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.boundary_points">
<span class="sig-name descname"><span class="pre">boundary_points</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.boundary_points" title="Link to this definition"></a></dt>
<dd><p>List of points on boundary. Useful when testing if a cell is
inside ellipse.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.segments">
<span class="sig-name descname"><span class="pre">segments</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.segments" title="Link to this definition"></a></dt>
<dd><p>Set of segments through the cell.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.id">
<span class="sig-name descname"><span class="pre">id</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.id" title="Link to this definition"></a></dt>
<dd><p>The id of the cell. Initiated when creating the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.cell.Cell.status">
<span class="sig-name descname"><span class="pre">status</span></span><a class="headerlink" href="#tomotree.classes.cell.Cell.status" title="Link to this definition"></a></dt>
<dd><p>The status of the cell. It can be used for binary classification
of the cell. The value can be 0 or 1. The value is None if the
status is not set.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class" id="module-tomotree.classes.grid">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tomotree.classes.grid.</span></span><span class="sig-name descname"><span class="pre">Grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xlim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">10)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ny</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.grid.Grid" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class representing a grid in a tomogram.</p>
<p>Cells are stored in a dataframe. This allows to get the cell by using
a coordinates of a point inside using <code class="code docutils literal notranslate"><span class="pre">loc</span></code> method.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.x">
<span class="sig-name descname"><span class="pre">x</span></span><a class="headerlink" href="#tomotree.classes.grid.Grid.x" title="Link to this definition"></a></dt>
<dd><p>Array containing the x-coordinates of the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.y">
<span class="sig-name descname"><span class="pre">y</span></span><a class="headerlink" href="#tomotree.classes.grid.Grid.y" title="Link to this definition"></a></dt>
<dd><p>Array containing the y-coordinates of the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.cells">
<span class="sig-name descname"><span class="pre">cells</span></span><a class="headerlink" href="#tomotree.classes.grid.Grid.cells" title="Link to this definition"></a></dt>
<dd><p>DataFrame representing the grid cells, initialized with Cell
objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.all_cells">
<span class="sig-name descname"><span class="pre">all_cells</span></span><a class="headerlink" href="#tomotree.classes.grid.Grid.all_cells" title="Link to this definition"></a></dt>
<dd><p>List of cells in the diagram.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.min_velocity">
<span class="sig-name descname"><span class="pre">min_velocity</span></span><a class="headerlink" href="#tomotree.classes.grid.Grid.min_velocity" title="Link to this definition"></a></dt>
<dd><p>The minimal velocity in the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.max_velocity">
<span class="sig-name descname"><span class="pre">max_velocity</span></span><a class="headerlink" href="#tomotree.classes.grid.Grid.max_velocity" title="Link to this definition"></a></dt>
<dd><p>The maximal velocity in the grid.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.get_cell">
<span class="sig-name descname"><span class="pre">get_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.grid.Grid.get_cell" title="Link to this definition"></a></dt>
<dd><p>Retrieves a cell from the grid based on its coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – The x-coordinate of the cell.</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The y-coordinate of the cell.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The cell object located at the specified coordinates.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#tomotree.classes.cell.Cell" title="tomotree.classes.cell.Cell">Cell</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id1">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_velocity</span></span><a class="headerlink" href="#id1" title="Link to this definition"></a></dt>
<dd><p>Return the maximal velocity in the grid.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id2">
<em class="property"><span class="k"><span class="pre">property</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">min_velocity</span></span><a class="headerlink" href="#id2" title="Link to this definition"></a></dt>
<dd><p>Return the minimal velocity in the grid.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cax=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_min=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">speed_max=2000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shading='flat'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_contourf=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_colorbar=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discrete_colorbar=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_intervals=6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">discrete_colorbar_palette=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function=&lt;function</span> <span class="pre">Grid.&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorbar_kwds={}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.grid.Grid.plot" title="Link to this definition"></a></dt>
<dd><p>Plot a heatmap of the grid velocities using <cite>pcolormesh</cite> or <cite>contourf</cite>.</p>
<p>If status is True, the cell status (0 or 1) is plotted instead of the velocity. In this case
minimal and maximal limits are set automatically.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ax</strong> (<em>matplotlib.axes.Axes</em><em>, </em><em>optional</em>) – The axes object to plot on. If None, a new figure and axes are created.</p></li>
<li><p><strong>cax</strong> (<em>matplotlib.axes.Axes</em><em>, </em><em>optional</em>) – The axes object for the colorbar. If None, the colorbar is added to the main axes.</p></li>
<li><p><strong>speed_min</strong> (<em>float</em><em>, </em><em>optional</em>) – The minimum speed value for the color scale. Default is 0.</p></li>
<li><p><strong>speed_max</strong> (<em>float</em><em>, </em><em>optional</em>) – The maximum speed value for the color scale. Default is 2000.</p></li>
<li><p><strong>shading</strong> (<em>str</em><em>, </em><em>optional</em>) – The shading method for <cite>pcolormesh</cite>. Options are ‘flat’ or ‘auto’. Default is ‘flat’.</p></li>
<li><p><strong>use_contourf</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, use <cite>contourf</cite> for plotting instead of <cite>pcolormesh</cite>. Default is False.</p></li>
<li><p><strong>status</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, plot the cell status (0 or 1) instead of velocity. Default is False.</p></li>
<li><p><strong>plot_colorbar</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, display the colorbar. Default is True.</p></li>
<li><p><strong>discrete_colorbar</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, use a discrete colorbar with specified number of intervals. Default is False.</p></li>
<li><p><strong>n_intervals</strong> (<em>int</em><em>, </em><em>optional</em>) – The number of intervals for the discrete colorbar. Default is 6.</p></li>
<li><p><strong>discrete_colorbar_palette</strong> (<em>matplotlib.colors.Colormap</em><em>, </em><em>optional</em>) – The colormap to use for the discrete colorbar. Default is <cite>discrete_cmap</cite>.</p></li>
<li><p><strong>function</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function to apply to the data before plotting. Default is the identity function.</p></li>
<li><p><strong>colorbar_kwds</strong> (<em>dict</em><em>, </em><em>optional</em>) – Additional keyword arguments to pass to the colorbar.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The axes object containing the heatmap plot.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.set_cell_status_from_threshold">
<span class="sig-name descname"><span class="pre">set_cell_status_from_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nan_as_zero</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.grid.Grid.set_cell_status_from_threshold" title="Link to this definition"></a></dt>
<dd><p>Set cell velocity to 0 if the velocity is below the limit or undefined.
Otherwise set the velocity to 1. The function is useful for binary
classification of cells.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> (<em>float</em>) – The threshold value for classification.</p></li>
<li><p><strong>nan_as_zero</strong> (<em>bool</em>) – If True, NaN is used rather than 0. This is useful for plotting
the status, because NaN is not shown in the plot.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="tomotree.classes.grid.Grid.set_cell_velocity_from_ray_means">
<span class="sig-name descname"><span class="pre">set_cell_velocity_from_ray_means</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tomotree.classes.grid.Grid.set_cell_velocity_from_ray_means" title="Link to this definition"></a></dt>
<dd><p>Update cell velocities. Takes list of rays through the cell.
The velocities of the rays from this list are used and the new
cell velocity is calculated as mean of the velocities of the rays.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="doc.html" class="btn btn-neutral float-left" title="Tomotree package description" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="resistograph.html" class="btn btn-neutral float-right" title="Resistograph" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Valentino Cristini, Robert Mařík.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>